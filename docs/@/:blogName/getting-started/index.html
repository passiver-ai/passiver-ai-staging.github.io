<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Getting Started with Elder.js</title><!-- HEAD_svelte-1dene28_START --><meta name="description" content="You have the starter template of Elder.js running. So what is next? This guide will help you explore the project."><link href="https://passiver-ai.github.io/@/:blogName/getting-started/" rel="canonical"><!-- HEAD_svelte-1dene28_END --><!-- HEAD_svelte-9lbg0x_START --><script src="https://cdn.tailwindcss.com"></script><script>tailwind.config = {
      darkMode: 'class',
      // plugins: [typographyPlugin],
      theme: {
        fontSize: {
          xs: ['0.8125rem', { lineHeight: '1.5rem' }],
          sm: ['0.875rem', { lineHeight: '1.5rem' }],
          base: ['1rem', { lineHeight: '1.75rem' }],
          lg: ['1.125rem', { lineHeight: '1.75rem' }],
          xl: ['1.25rem', { lineHeight: '2rem' }],
          '2xl': ['1.5rem', { lineHeight: '2rem' }],
          '3xl': ['1.875rem', { lineHeight: '2.25rem' }],
          '4xl': ['2rem', { lineHeight: '2.5rem' }],
          '5xl': ['3rem', { lineHeight: '3.5rem' }],
          '6xl': ['3.75rem', { lineHeight: '1' }],
          '7xl': ['4.5rem', { lineHeight: '1' }],
          '8xl': ['6rem', { lineHeight: '1' }],
          '9xl': ['8rem', { lineHeight: '1' }],
        },
        // typography: typographyStyles,
      },
    };
  </script><!-- HEAD_svelte-9lbg0x_END --><link rel="stylesheet" href="/_elderjs/assets/svelte-e9d8f298.css" media="all" /><style></style></head><body class="blog">


<div class="flex h-full bg-zinc-50 dark:bg-black"><div class="flex w-full"><div class="fixed inset-0 flex justify-center sm:px-8"><div class="flex w-full max-w-7xl lg:px-8"><div class="w-full bg-white ring-1 ring-zinc-100 dark:bg-zinc-900 dark:ring-zinc-300/20"></div></div></div>
    <div class="relative flex w-full flex-col"><header class="pointer-events-none relative z-50 flex flex-none flex-col" style="height:var(--header-height);margin-bottom:var(--header-mb)"><div class="top-0 z-10 h-16 pt-6" style="position:var(--header-position)"><div class="sm:px-8 top-[var(--header-top,theme(spacing.6))] w-full" style="position:var(--header-inner-position)"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="relative flex gap-4"><div class="flex flex-1">Blog Title
                    </div>
                    <div class="flex flex-1 justify-end md:justify-center"><div class="pointer-events-auto md:hidden" data-headlessui-state=""><button class="group flex items-center rounded-full bg-white/90 px-4 py-2 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10 dark:hover:ring-white/20" type="button" aria-expanded="false" data-headlessui-state="" id="headlessui-popover-button-:R2miqla:">Menu
                          <svg viewBox="0 0 8 6" aria-hidden="true" class="ml-3 h-auto w-2 stroke-zinc-500 group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-400"><path d="M1.75 1.75 4 4.25l2.25-2.5" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>
                      <div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div>
                      <nav class="pointer-events-auto hidden md:block"><ul class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10"><li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/about">About</a></li>
                          <li><a class="relative block px-3 py-2 transition text-teal-500 dark:text-teal-400" href="/articles">Articles<span class="absolute inset-x-1 -bottom-px h-px bg-gradient-to-r from-teal-500/0 via-teal-500/40 to-teal-500/0 dark:from-teal-400/0 dark:via-teal-400/40 dark:to-teal-400/0"></span></a></li>
                          <li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/projects">Projects</a></li>
                          <li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/speaking">Speaking</a></li>
                          <li><a class="relative block px-3 py-2 transition hover:text-teal-500 dark:hover:text-teal-400" href="/uses">Uses</a></li></ul></nav></div>
                    <div class="flex justify-end md:flex-1">












</div></div></div></div></div></div></div></header>

      <main class="flex-auto"><div class="sm:px-8 mt-16 sm:mt-32"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><!-- HTML_TAG_START -->

<div class="xl:relative"><div class="mx-auto max-w-2xl"><button type="button" aria-label="Go back to articles" class="group mb-8 flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md shadow-zinc-800/5 ring-1 ring-zinc-900/5 transition dark:border dark:border-zinc-700/50 dark:bg-zinc-800 dark:ring-0 dark:ring-white/10 dark:hover:border-zinc-700 dark:hover:ring-white/20 lg:absolute lg:-left-5 lg:-mt-2 lg:mb-0 xl:-top-1.5 xl:left-0 xl:mt-0"><svg viewBox="0 0 16 16" fill="none" aria-hidden="true" class="h-4 w-4 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:stroke-zinc-500 dark:group-hover:stroke-zinc-400"><path d="M7.25 11.25 3.75 8m0 0 3.5-3.25M3.75 8h8.5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>
    <article><header class="flex flex-col"><h1 class="mt-6 text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-5xl">Getting Started with Elder.js</h1>
        <time datetime="2022-09-05" class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span><span class="ml-3">September 5, 2022</span></time></header>
      <div class="mt-8 prose dark:prose-invert" data-mdx-content="true"><!-- HTML_TAG_START --><p>Sweet! So you've got the Elder.js starter template up and running. What's next?</p>
<h2 id="4-routes-to-explore">4 Routes To Explore</h2>
<p>This project is structured to follow the required Elder.js folder structure which you can see below, but in short you've got several routes in the <code>./src/routes/</code> folder.</p>
<p>Each of these routes are designed to showcase something different.</p>
<ul>
<li><a href="/simple/">Simple</a> - The a simple route with an overview of how routing works in Elder.js.</li>
<li>Home - This is the simple route to illustrate the basic concepts. Open up the <code>./src/routes/home/route.js</code> file and look at how the <code>all</code> and <code>permalink</code> functions work. Then look at the <code>Home.svelte</code> to see what is going on there.</li>
<li>Blog - This route is powered entirely by the <code>@elderjs/plugin-markdown</code> which is configured in your <code>elder.config.js</code>. You can find this page's markdown at <code>./src/routes/blog/getting-started.md</code>. Try duplicating one of the existing markdown files and renaming it. You'll see that the homepage will change next time you build or reload the server.</li>
<li>Hooks - The hooks route illustrates how to add data to a page and the data flow. In the <code>./src/routes/hooks/route.js</code> file you'll see we're importing the hookInterface and then building a page for each hook using the <code>all</code> and <code>permalink</code> functions. Next open up the <code>./src/routes/hooks/route.js</code> and the <code>./src/routes/hooks/Hooks.svelte</code> to see how data is passed from request --> data --> Svelte.</li>
<li><code>dynamic</code> - This is an example of how to use Elder.js in SSR mode to create dynamic experiences.</li>
</ul>
<p>Now that you've got Elder.js up and running let's talk about some customization options.</p>
<h2 id="elderjs-community-discord">Elder.js Community Discord</h2>
<p>Getting started with Elder.js and want to connect with other users? Join us over at the <a href="https://discord.gg/rxc2yh5Pxa">Elder.js channel</a> within the official Svelte discord.</p>
<h2 id="seo-auditing">SEO Auditing</h2>
<p>As you play with this template you'll notice that there is some SEO auditing going on.</p>
<p>Under the hood Elder.js uses <a href="https://github.com/Elderjs/plugins/tree/master/packages/seo-check"><code>@elderjs/plugin-seo-check</code></a> to check each page generated for more than 50 common search engine optimization (SEO) issues.</p>
<p>If for some reason these warnings are to verbose you can adjust the level by editing your <code>./elder.config.js</code> to be:</p>
<pre><code class="language-js">'@elderjs/plugin-seo-check': {
  display: ['errors'], // If the errors are too verbose remove 'warnings'
},
</code></pre>
<p>This will silence some of the more opinionated rules.</p>
<h2 id="how-to-customize-elderjs">How to Customize Elder.js</h2>
<h3 id="plugins">Plugins:</h3>
<p>Currently this template is running two plugins:</p>
<ul>
<li><code>@elderjs/plugin-markdown</code> to help us parse markdown files, generate pages, and make them available within Elder.js.</li>
<li><code>@elderjs/plugin-browser-reload</code> to reload the browser when in dev server mode.</li>
</ul>
<p>If you are looking for other plugins check out these:</p>
<ul>
<li><a href="https://github.com/Elderjs/plugins/tree/master/packages/images">Images</a> Easily add and manage responsive images with your Elder.js website.</li>
<li><a href="https://github.com/Elderjs/plugins/tree/master/packages/critical-path-css">Critical Path CSS</a> Quickly and easily generate and include critical path css for your Elder.js website.</li>
<li><a href="https://github.com/Elderjs/plugins/tree/master/packages/sitemap">Sitemap</a> Automatically generate the latest sitemap for your Elder.js website on build.</li>
<li><a href="https://github.com/Elderjs/plugins/tree/master/packages/references">References</a> Easily add wikipedia style references to your content with <code>ref</code> and <code>referenceList</code> shortcodes.</li>
<li><a href="https://github.com/kiuKisas/elderjs-plugin-i18n">i18n</a> Easily add internationalization to your Elder.js website.</li>
</ul>
<p>If you want to share an idea for a plugin or want to help develop an Elder.js plugin, check out <a href="https://github.com/Elderjs/elderjs/discussions/categories/plugin-ideas">Plugin Ideas</a> discussion on the Elder.js repo.</p>
<h3 id="hooks-customize-and-control-elderjs">Hooks: Customize and Control Elder.js:</h3>
<p>Once you've explored the templates above, it is worth looking a bit at how the hooks work.</p>
<p>Open up the <code>./src/hooks.js</code> file and look at the hooks this project uses.</p>
<p>You'll see there are a few hooks in there.</p>
<p>If you uncomment the hook with the name of <code>compressHtml</code> and reload this page, you'll see that the html is now compressed... but the code blocks are broken. (they always say don't compress html with regex!).</p>
<p>In plain english, this hook takes the <code>htmlString</code>, modifies it (compresses it), and returns it.</p>
<p>Now that you see the power of hooks, let's have you add your first hook which illustrates how you'd add analytics code to every page of your site.</p>
<p>Copy and paste the hook below into your <code>hooks.js</code> file.</p>
<pre><code class="language-javascript">  {
    hook: 'stacks',
    name: 'addAnalyticstoFooter',
    description: 'Add analytics to Footer.',
    priority: 1, // we want it to be last
    run: async ({ footerStack }) => {
      footerStack.push({
        source: 'hooks',
        string: `&#x3C;!-- your analytics code here -->`,
        priority: 1,
      });
      return { footerStack }
    },
  },
</code></pre>
<p>If you reload your html, you should see the html comment from the hook.</p>
<p>In this hook we are manipulating a "stack."</p>
<p>Under the hood, Elder.js uses stacks to predictably manage in what order strings are rendered.</p>
<p>In this hook we're just adding our analytics code at a priority of 1 (last).</p>
<p>If stacks seem foreign, just remember they are a list of strings with some meta data.</p>
<h3 id="hooks-in-depth">Hooks In Depth:</h3>
<p>Elder.js runs it's hooks system based on it's 'hookInterface'. This interface defines which hooks can do what and what properties they have.</p>
<p>In building Elder.js we found that if anything can be mutated at anytime, a system quickly gets hard to reason about.</p>
<p>The 'hookInterface' is designed to solve that problem. While you can explore all of the hooks on the homepage, before you go try adding a malicious hook that is designed to corrupt important data during page load.</p>
<p>Add the hook below to your <code>hooks.js</code> file and reload this page:</p>
<pre><code class="language-javascript">{
 hook: 'data',
 name: 'maliciousHook',
 description: 'Can we break anything?',
 priority: 1, // this will be called last
 run: async ({ helpers, data, settings, request, query }) => {
   settings = null;
   request = null;
   helpers = null;
   query = null;

   return { settings, request, query, helpers }
 },
},
</code></pre>
<p>On reload, if you check the console you'll see that this hook wasn't able to mutate any of the props due to the way the hookInterface is configured.</p>
<p>Essentially only properties that are able to be mutated on a hook, will be mutated on the hook. This helps keep plugins and developers honest and makes maintaining the project in the future easier to reason about. :)</p>
<p>If you're interested in exploring hooks more check out the full <a href="https://elderguide.com/tech/elderjs/">Elder.js documentation on ElderGuide</a>.</p>
<h3 id="a-brief-look-at-shortcodes">A Brief Look At Shortcodes</h3>
<p>Shortcodes are a great way to customize otherwise static content. They are especially useful when using a CMS or external content store. The most common use cases include:</p>
<ol>
<li>You need a placeholder for dynamic content that isn't available when the static content is written.</li>
<li>You want a future proof way of adding 'design flair' to your site.</li>
<li>When you need a dynamic data point that changes often and don't want to go back and update it each time it changes.</li>
</ol>
<p>Here is an example of their power:</p>
<blockquote>
<p>This site has <strong>20</strong> pages on it.</p>
</blockquote>
<p>If you add another page to this site, you'll see that the number of pages above adjusts accordingly. This dynamic ability is powered via a shortcode which you can see in <code>./src/shortcodes.js</code>.</p>
<p>Usually this sort of customization takes a ton of preprocessing, parsing, etc, but Elder.js handles it all for you. Simply define a shortcode and a function that returns what you want it to be replaced with and Elder.js will handle the rest.</p>
<p><strong>Learning Opportunities:</strong></p>
<ol>
<li>Try using the 'box' shortcode to see how to add design flair.</li>
<li>Think about how you could use a shortcode to fetch data from an external API and how that would add major flexibility to your static content.</li>
<li>Try adding a "Clock" Svelte component to this page. (Details in the <code>./src/shortcodes.js</code>)</li>
</ol>
<p><strong>Out of the Box Usecases</strong></p>
<ol>
<li>Pulling in your latest Tweets or replies to one of your tweets.</li>
<li>You run your own ad platform for your site. You can use a shortcode that hits an external API allowing you render your ads on the server.</li>
<li>You want to embed arbitrary JS on the page (event tracking or something) but only when a shortcode is present. (totally doable)</li>
<li>You need to add <code>ld+json</code> to your head for a specific page, but don't have it wired into the template. You could use a shortcode to do so.</li>
</ol>
<h2 id="elderjs-project-structure">Elder.js Project Structure</h2>
<p>Under the hood Elder.js does quite a bit of magic based on the file structure below but more importantly the <code>rollup.config.js</code> is setup to match this file structure. Since Rollup handles all of the bundling of our Svelte components, we recommend you follow this structure unless you like tinkering with bundlers.</p>
<pre><code>Project Root
| elder.config.js
| package.json
| rollup.config.js
| ... (other common stuff, .gitignore, svelte.config.js... etc)
| -- src
| -- | -- build.js
| -- | -- server.js
| -- | -- hooks.js
| -- | -- shortcodes.js
| -- helpers
| -- | -- index.js
| -- | -- ...
| -- layouts
| -- | -- Layout.svelte
| -- routes
| -- | -- [route] ('blog' in this example)
| -- | -- | -- Blog.svelte
| -- | -- | -- route.js
| -- plugins
| -- | -- [plugin] ('elderjs-plugin-your-plugin' for example)
| -- | -- | -- index.js
| -- components
| -- | -- [component] ('Contact' in this example)
| -- | -- | -- Contact.svelte


On this Project:
| -- assets
| -- | -- items to be copied to the 'distDir' defined in your 'elder.config.js'. See hooks.js.
</code></pre>
<h2 id="deploying-elderjs">Deploying Elder.js</h2>
<p>If you are looking to deploy your statically generated Elder.js site <a href="https://developers.cloudflare.com/pages/how-to/elderjs">Cloudflare Pages has a great guide</a>.</p>
<h2 id="customizing-the-css">Customizing The CSS:</h2>
<p>For this template any css in the <code>./src/layouts/Layout.svelte</code> will be made available on all pages. You can also import CSS like we do with the css file at <code>./assets/style.css</code> and that will get added to the CSS file Elder.js generates.</p>
<h2 id="ssr-and-dynamic-experiences">SSR and Dynamic Experiences:</h2>
<p>Elder.js started as a static site generator but today it is used in production as an SSR framework as well.</p>
<p>For more information look at the route found in <code>./src/routes/ssr/</code>. In short, the <code>req</code> and <code>next</code> functions from <code>express</code> or <code>polka</code> (used in this template) are made available there. This means you'll have access to <code>sessions</code> and anything else you'd need to make logged in or otherwise dynamic experiences.</p>
<p>For even more control make sure to checkout the <a href="/middleware/"><code>middleware</code></a> hook.</p>
<h2 id="copying-of-assets">Copying of Assets</h2>
<p>Another hook that you'll see is one that copies anything in your <code>./assets/</code> to the <code>distDir</code> defined in your <code>elder.config.js</code> (which is<code>./public/</code> folder by default in this project).</p>
<!-- HTML_TAG_END --></div></article></div></div><!-- HTML_TAG_END --></div></div></div></div></main>

      <footer class="mt-32 flex-none"><div class="sm:px-8"><div class="mx-auto w-full max-w-7xl lg:px-8"><div class="border-t border-zinc-100 pb-16 pt-10 dark:border-zinc-700/40"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 sm:flex-row"><div class="flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm font-medium text-zinc-800 dark:text-zinc-200"><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/about">About</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/projects">Projects</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/speaking">Speaking</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/uses">Uses</a></div>
                    <p class="text-sm text-zinc-400 dark:text-zinc-500">© 2023 Spencer Sharp. All rights reserved.
                    </p></div></div></div></div></div></div></footer></div></div></div>
    
    
    
    
    </body></html>